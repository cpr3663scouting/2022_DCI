for (i in firstCol:(firstCol + numCol -1)) {
output <- output + ifelse(!is.na(RawData[[i]]),RawData[[i]]+5*(i-firstCol)-1,0)
}
return(output)
}
CargoAccuracy <- function(scored, missed) {
ifelse(scored + missed == 0, rep(NA, nrow(Dci)), scored/(scored+missed))
}
Point <- function(item, point) {
ifelse(is.na(item), rep(0,nrow(Dci)), item*point)
}
Bubble <- function(col, index) {
ifelse(grepl(index, RawData[[col]]), 1, 0)
}
ClimbAccuracy <- function(attempted, latched, scored) {
ifelse(attempted == 0, rep(NA, nrow(Dci)), (latched + scored)/attempted)
}
#Backups
AutoNum <- function(col1, col2) {
output <- ifelse(!is.na(RawData[[col1]]),RawData[[col1]]-1,
ifelse(!is.na(RawData[[col2]]),RawData[[col2]]+4, NA))
}
TeleNum <- function(col1, col2, col3, col4) {
output <- ifelse(!is.na(RawData[[col1]]),RawData[[col1]]-1,
ifelse(!is.na(RawData[[col2]]),RawData[[col2]]+4,
ifelse(!is.na(RawData[[col3]]),RawData[[col3]]+9,
ifelse(!is.na(RawData[[col4]]),RawData[[col4]]+14, NA))))
}
TestSep <- function(firstCol, numCol) {
for(i in firstCol:(firstCol + numCol -1)) {
print(RawData[[i]])
}
}
#IF-Event
Dci$'IF-Event' <- Bubble(1,1) + Bubble(2,1)*2 + Bubble(3,1)*3
#IF-MatchNumber
Dci$'IF-MatchNumber' <- ifelse(grepl("5", RawData[[1]]),100,0)+
ifelse(!is.na(RawData[[26]]),RawData[[26]]-1,RawData[[51]]+4)*10+
ifelse(!is.na(RawData[[27]]),RawData[[27]]-1,RawData[[52]]+4)
#IF-Alliance
Dci$'IF-Alliance' <- paste(ifelse(grepl("1", RawData[[2]]), "R",
ifelse(grepl("2", RawData[[2]]), "B", "")),
ifelse(grepl("3", RawData[[2]]), "1",
ifelse(grepl("4", RawData[[2]]), "2",
ifelse(grepl("5", RawData[[2]]), "3", ""))),
sep = "")
#IF-ScheduleID
Dci$'If-ScheduleID' <- Dci$'IF-MatchNumber'*100 +
ifelse(grepl("13", RawData[[2]]), 1,
ifelse(grepl("14", RawData[[2]]), 2,
ifelse(grepl("15", RawData[[2]]), 3,
ifelse(grepl("23", RawData[[2]]), 4,
ifelse(grepl("24", RawData[[2]]), 5,
ifelse(grepl("25", RawData[[2]]), 6, 0))))))
#IF-TeamNumber
left_join(Dci, MatchScheduleId, by="IF-ScheduleID")
left_join(Dci, MatchScheduleId, by="IF-ScheduleID")
left_join(Dci, MatchScheduleId, by="IF-ScheduleID")
#IF-TeamNumber
Dci$'IF-TeamNumber' <- match(Dci$'IF-ScheduleID', MatchScheduleId, nomatch = "frc9999")
#IF-TeamNumber
Dci$'IF-TeamNumber' <- inner_join(Dci, MatchScheduleId)
#IF-TeamNumber
Dci$'IF-TeamNumber' <- inner_join(Dci, MatchScheduleId)
library('dplyr')
library('httr')
library('jsonlite')
library('base')
ApiKey <- "SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz"
PullData <- function(Key, URL) {
a <- GET(URL, add_headers("X-TBA-Auth-Key"=Key))
b <- content(a, "text")
c <- fromJSON(b)
d <- flatten(c)
}
Matches <- PullData(ApiKey, "https://www.thebluealliance.com/api/v3/event/2022week0/matches")
SimpleMatches <- PullData(ApiKey, "https://www.thebluealliance.com/api/v3/event/2022week0/matches/simple")
#MatchSchedule
MatchSchedule <- filter(SimpleMatches, grepl("qm",SimpleMatches$comp_level)) %>%
select("comp_level", "match_number", "alliances.blue.team_keys", "alliances.red.team_keys") %>%
arrange(match_number)
RedTeam <- data.frame(MatchSchedule$alliances.red.team_keys)
BlueTeam <- data.frame(MatchSchedule$alliances.blue.team_keys)
for (i in 1:3) {
MatchSchedule <- mutate(MatchSchedule, "R" = rep(NA, nrow(MatchSchedule)), "B" = rep(NA, nrow(MatchSchedule)))
names(MatchSchedule)[i+2] <- paste("R", i, sep = "")
names(MatchSchedule)[i+5] <- paste("B", i, sep = "")
}
for (i in 1:nrow(MatchSchedule)) {
for (j in 1:3) {
MatchSchedule[i,j+2] <- RedTeam[j,i]
MatchSchedule[i,j+5] <- BlueTeam[j,i]
}
}
MatchSchedule$'comp_level' <- NULL
names(MatchSchedule)[1] <- "MatchNumber"
MatchScheduleId <- data.frame(rep(NA, nrow(MatchSchedule)*6),
rep(NA, nrow(MatchSchedule)*6))
names(MatchScheduleId)[1] <- "IF-ScheduleID"
names(MatchScheduleId)[2] <- "IF-TeamNumber"
for (i in 1:(nrow(MatchSchedule)*6)) {
MatchScheduleId[[i,1]] <- (i+5)%/%6*100+(i+5)%%6+1
}
for (i in 1:(nrow(MatchSchedule)*6)) {
MatchScheduleId[[i,2]] <- MatchSchedule[[(i+5)%/%6,(i+5)%%6+2]]
}
#Import ZipGrade Data
RawZipGrade <- read.csv('ExportQuizFullDetail-S12Week0.csv')
#Create RawData
RawData <- select(RawZipGrade, Stu1, Stu2, Stu3, Stu4, Stu5, Stu6, Stu7, Stu8, Stu9,
Stu10, Stu11, Stu12, Stu13, Stu14, Stu15, Stu16, Stu17, Stu18, Stu19,
Stu20, Stu21, Stu22, Stu23, Stu24, Stu25, Stu26, Stu27, Stu28, Stu29,
Stu30, Stu31, Stu32, Stu33, Stu34, Stu35, Stu36, Stu37, Stu38, Stu39,
Stu40, Stu41, Stu42, Stu43, Stu44, Stu45, Stu46, Stu47, Stu48, Stu49,
Stu50, Stu51, Stu52, Stu53, Stu54, Stu55, Stu56, Stu57, Stu58, Stu59,
Stu60, Stu61, Stu62, Stu63, Stu64, Stu65, Stu66, Stu67, Stu68, Stu69,
Stu70, Stu71, Stu72, Stu73, Stu74, Stu75, Stu76, Stu77, Stu78, Stu79,
Stu80, Stu81, Stu82, Stu83, Stu84, Stu85, Stu86, Stu87, Stu88, Stu89,
Stu90, Stu91, Stu92, Stu93, Stu94, Stu95, Stu96, Stu97, Stu98, Stu99,
Stu100)
#ScouterID Information
IssId <- read.csv('ISS_ID.csv')
IssId$'IF-ScouterSeq' <- mutate(IssId, IdSeq)
#Data Collection Interface
Dci <- data.frame(Serial=1:nrow(RawData))
#Functions
AsciiToChar <- function(col) {
output <- c()
for (i in 1:nrow(Dci)) {
output <- append(output,intToUtf8(RawData[i,col]+64))
}
output[is.na(output)] <- ""
return(output)
}
NumArray <- function(firstCol, numCol) {
output <- rep(0, nrow(Dci))
for (i in firstCol:(firstCol + numCol -1)) {
output <- output + ifelse(!is.na(RawData[[i]]),RawData[[i]]+5*(i-firstCol)-1,0)
}
return(output)
}
CargoAccuracy <- function(scored, missed) {
ifelse(scored + missed == 0, rep(NA, nrow(Dci)), scored/(scored+missed))
}
Point <- function(item, point) {
ifelse(is.na(item), rep(0,nrow(Dci)), item*point)
}
Bubble <- function(col, index) {
ifelse(grepl(index, RawData[[col]]), 1, 0)
}
ClimbAccuracy <- function(attempted, latched, scored) {
ifelse(attempted == 0, rep(NA, nrow(Dci)), (latched + scored)/attempted)
}
#Backups
AutoNum <- function(col1, col2) {
output <- ifelse(!is.na(RawData[[col1]]),RawData[[col1]]-1,
ifelse(!is.na(RawData[[col2]]),RawData[[col2]]+4, NA))
}
TeleNum <- function(col1, col2, col3, col4) {
output <- ifelse(!is.na(RawData[[col1]]),RawData[[col1]]-1,
ifelse(!is.na(RawData[[col2]]),RawData[[col2]]+4,
ifelse(!is.na(RawData[[col3]]),RawData[[col3]]+9,
ifelse(!is.na(RawData[[col4]]),RawData[[col4]]+14, NA))))
}
TestSep <- function(firstCol, numCol) {
for(i in firstCol:(firstCol + numCol -1)) {
print(RawData[[i]])
}
}
#IF-Event
Dci$'IF-Event' <- Bubble(1,1) + Bubble(2,1)*2 + Bubble(3,1)*3
#IF-MatchNumber
Dci$'IF-MatchNumber' <- ifelse(grepl("5", RawData[[1]]),100,0)+
ifelse(!is.na(RawData[[26]]),RawData[[26]]-1,RawData[[51]]+4)*10+
ifelse(!is.na(RawData[[27]]),RawData[[27]]-1,RawData[[52]]+4)
#IF-Alliance
Dci$'IF-Alliance' <- paste(ifelse(grepl("1", RawData[[2]]), "R",
ifelse(grepl("2", RawData[[2]]), "B", "")),
ifelse(grepl("3", RawData[[2]]), "1",
ifelse(grepl("4", RawData[[2]]), "2",
ifelse(grepl("5", RawData[[2]]), "3", ""))),
sep = "")
#IF-ScheduleID
Dci$'IF-ScheduleID' <- Dci$'IF-MatchNumber'*100 +
ifelse(grepl("13", RawData[[2]]), 1,
ifelse(grepl("14", RawData[[2]]), 2,
ifelse(grepl("15", RawData[[2]]), 3,
ifelse(grepl("23", RawData[[2]]), 4,
ifelse(grepl("24", RawData[[2]]), 5,
ifelse(grepl("25", RawData[[2]]), 6, 0))))))
#IF-TeamNumber
Dci$'IF-TeamNumber' <- inner_join(Dci, MatchScheduleId)
View(RawData)
View(RawData)
#IF-TeamNumber
Dci$'IF-TeamNumber' <- left_join(Dci, MatchScheduleId, )
#IF-ScouterID
Dci$'IF-ScouterID' <- paste(AsciiToChar(3), ifelse(is.na(RawData[[28]]),"",RawData[[28]]), AsciiToChar(53), sep = "")
#IF-ScouterSeq
Dci$'IF-ScouterSeq' <- ifelse(is.na(RawData[[3]]),0,RawData[[3]]-1)*25 +
ifelse(is.na(RawData[[28]]),0,RawData[[28]]-1)*5 +
ifelse(is.na(RawData[[53]]),0,RawData[[53]])
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
#IF-TeamNumber
Dci$'IF-TeamNumber' <- left_join(Dci, MatchScheduleId, by='IF-ScheduleID')
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
#IF-TeamNumber
Dci$'IF-TeamNumber' <- left_join(Dci, MatchScheduleId, by='IF-ScheduleID')
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
#IF-TeamNumber
Dci <- left_join(Dci, MatchScheduleId, by='IF-ScheduleID')
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
#TeamInfo
PullData(ApiKey, "https://www.thebluealliance.com/api/v3/teams/0/simple?X-TBA-Auth-Key=SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz")
x <- exportPullData(ApiKey, "https://www.thebluealliance.com/api/v3/teams/0/simple?X-TBA-Auth-Key=SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz")
write.csv(x,"0.csv",row.names = FALSE)
x <- exportPullData(ApiKey, "https://www.thebluealliance.com/api/v3/teams/0/simple?X-TBA-Auth-Key=SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz")
write.csv(x,"0.csv",row.names = FALSE)
xxx <- exportPullData(ApiKey, "https://www.thebluealliance.com/api/v3/teams/0/simple?X-TBA-Auth-Key=SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz")
write.csv(xxx,"0.csv",row.names = FALSE)
"xxx" <- exportPullData(ApiKey, "https://www.thebluealliance.com/api/v3/teams/0/simple?X-TBA-Auth-Key=SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz")
write.csv(xxx,"0.csv",row.names = FALSE)
"xxx" <- PullData(ApiKey, "https://www.thebluealliance.com/api/v3/teams/0/simple?X-TBA-Auth-Key=SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz")
write.csv(xxx,"0.csv",row.names = FALSE)
"xxx" <- PullData(ApiKey, "https://www.thebluealliance.com/api/v3/teams/0?X-TBA-Auth-Key=SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz")
write.csv(xxx,"0.csv",row.names = FALSE)
write.csv(xxx,"1.csv",row.names = FALSE)
"xxx" <- PullData(ApiKey, "https://www.thebluealliance.com/api/v3/teams/2?X-TBA-Auth-Key=SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz")
write.csv(xxx,"2.csv",row.names = FALSE)
write.csv(xxx,"3.csv",row.names = FALSE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
for(i in 1:20) {
Url <- paste('https://www.thebluealliance.com/api/v3/teams/',i,
'?X-TBA-Auth-Key=SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz', sep='')
ExportName <- paste('TeamData', i)
write.csv(PullData(ApiKey, Url),ExportName,row.names = FALSE)
}
write.csv(xxx,"Folder/12.csv",row.names = FALSE)
for(i in 0:19) {
Url <- paste('https://www.thebluealliance.com/api/v3/teams/',i,
'?X-TBA-Auth-Key=SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz', sep='')
ExportName <- paste('TeamData/', i+1 ,'.csv', sep='')
write.csv(PullData(ApiKey, Url),ExportName,row.names = FALSE)
}
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
#TeamInfo
for(i in 0:22) {
Url <- paste('https://www.thebluealliance.com/api/v3/teams/',i,
'?X-TBA-Auth-Key=SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz', sep='')
ExportName <- paste('TeamData/', i+1 ,'.csv', sep='')
write.csv(PullData(ApiKey, Url),ExportName,row.names = FALSE)
}
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
View(IssId)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
View(IssId)
#IF-ScouterName
Dci$'IF-ScouterName' <-
IssId <- mutate(IssId, paste(Id1, Id2, Id3))
#IF-ScouterName
Dci$'IF-ScouterName' <-
IssId <- mutate(IssId, "Iss Id" = paste(Id1, Id2, Id3, sep=""))
MatchSchedule[6] <- NULL
MatchSchedule$'paste(Id1, Id2, Id3)' <- NULL
IssId$'paste(Id1, Id2, Id3)' <- NULL
write.csv(IssId, "IssId.csv", row.names = FALSE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
#IF-ScouterName
Dci$'IF-ScouterName' <-
names(IssId)[6] <- "IF-ScouterID"
#IF-ScouterName
Dci$'IF-ScouterName' <-
names(IssId)[5] <- "IF-ScouterName"
#IF-ScouterName
Dci$'IF-ScouterName' <-
write.csv(IssId,"IssId.csv",row.names = FALSE)
#IF-ScouterName
Dci$'IF-ScouterName' <-
IssId[2] <- NULL
#IF-ScouterName
Dci$'IF-ScouterName' <-
IssId[2] <- NULL
#IF-ScouterName
Dci$'IF-ScouterName' <-
IssId[2] <- NULL
#IF-ScouterName
Dci$'IF-ScouterName' <-
write.csv(IssId,"IssId.csv",row.names = FALSE)
Dci <- left_join(Dci, IssId, by='IF-ScouterId')
Dci <- left_join(Dci, IssId, by='IF-ScouterID')
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
Dci <- left_join(Dci, IssId)
#IF-OfficialID
Dci$'IF-OfficialID' <- paste(AsciiToChar(76), ifelse(is.na(RawData[[77]]),"",RawData[[77]]), AsciiToChar(78), sep = "")
Dci <- left_join(Dci, IssId, by='IF-ScouterID')
Dci <- left_join(Dci, IssId, by='IF-ScouterSeq')
#IF-OfficialID
Dci$'IF-OfficialID' <- paste(AsciiToChar(76), ifelse(is.na(RawData[[77]]),"",RawData[[77]]), AsciiToChar(78), sep = "")
Dci <- left_join(Dci, IssId, by='IF-ScouterSeq')
x <- read.csv(combine.csv)
x <- read.csv("combined.csv")
View(x)
x <- filter(x, grepl("frc", x[[6]]))
x <- write.csv(x, "TeamData.csv", row.names = FALSE)
library('dplyr')
library('httr')
library('jsonlite')
library('base')
ApiKey <- "SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz"
PullData <- function(Key, URL) {
a <- GET(URL, add_headers("X-TBA-Auth-Key"=Key))
b <- content(a, "text")
c <- fromJSON(b)
d <- flatten(c)
}
Matches <- PullData(ApiKey, "https://www.thebluealliance.com/api/v3/event/2022week0/matches")
SimpleMatches <- PullData(ApiKey, "https://www.thebluealliance.com/api/v3/event/2022week0/matches/simple")
#MatchSchedule
MatchSchedule <- filter(SimpleMatches, grepl("qm",SimpleMatches$comp_level)) %>%
select("comp_level", "match_number", "alliances.blue.team_keys", "alliances.red.team_keys") %>%
arrange(match_number)
RedTeam <- data.frame(MatchSchedule$alliances.red.team_keys)
BlueTeam <- data.frame(MatchSchedule$alliances.blue.team_keys)
for (i in 1:3) {
MatchSchedule <- mutate(MatchSchedule, "R" = rep(NA, nrow(MatchSchedule)), "B" = rep(NA, nrow(MatchSchedule)))
names(MatchSchedule)[i+2] <- paste("R", i, sep = "")
names(MatchSchedule)[i+5] <- paste("B", i, sep = "")
}
for (i in 1:nrow(MatchSchedule)) {
for (j in 1:3) {
MatchSchedule[i,j+2] <- RedTeam[j,i]
MatchSchedule[i,j+5] <- BlueTeam[j,i]
}
}
MatchSchedule$'comp_level' <- NULL
names(MatchSchedule)[1] <- "MatchNumber"
MatchScheduleId <- data.frame(rep(NA, nrow(MatchSchedule)*6),
rep(NA, nrow(MatchSchedule)*6))
names(MatchScheduleId)[1] <- "IF-ScheduleID"
names(MatchScheduleId)[2] <- "IF-TeamNumber"
for (i in 1:(nrow(MatchSchedule)*6)) {
MatchScheduleId[[i,1]] <- (i+5)%/%6*100+(i+5)%%6+1
}
for (i in 1:(nrow(MatchSchedule)*6)) {
MatchScheduleId[[i,2]] <- MatchSchedule[[(i+5)%/%6,(i+5)%%6+2]]
}
#TeamInfo
for(i in 0:19) {
Url <- paste('https://www.thebluealliance.com/api/v3/teams/',i,
'?X-TBA-Auth-Key=SBcyOBkFgzIQ8jVIlum24FnnI4KPq4VSA5MYtdCVMgDrZYaMfYduTjMGKO5A9AVz', sep='')
ExportName <- paste('TeamData/', i+1 ,'.csv', sep='')
write.csv(PullData(ApiKey, Url),ExportName,row.names = FALSE)
}
#Import ZipGrade Data
RawZipGrade <- read.csv('ExportQuizFullDetail-S12Week0.csv')
#Create RawData
RawData <- select(RawZipGrade, Stu1, Stu2, Stu3, Stu4, Stu5, Stu6, Stu7, Stu8, Stu9,
Stu10, Stu11, Stu12, Stu13, Stu14, Stu15, Stu16, Stu17, Stu18, Stu19,
Stu20, Stu21, Stu22, Stu23, Stu24, Stu25, Stu26, Stu27, Stu28, Stu29,
Stu30, Stu31, Stu32, Stu33, Stu34, Stu35, Stu36, Stu37, Stu38, Stu39,
Stu40, Stu41, Stu42, Stu43, Stu44, Stu45, Stu46, Stu47, Stu48, Stu49,
Stu50, Stu51, Stu52, Stu53, Stu54, Stu55, Stu56, Stu57, Stu58, Stu59,
Stu60, Stu61, Stu62, Stu63, Stu64, Stu65, Stu66, Stu67, Stu68, Stu69,
Stu70, Stu71, Stu72, Stu73, Stu74, Stu75, Stu76, Stu77, Stu78, Stu79,
Stu80, Stu81, Stu82, Stu83, Stu84, Stu85, Stu86, Stu87, Stu88, Stu89,
Stu90, Stu91, Stu92, Stu93, Stu94, Stu95, Stu96, Stu97, Stu98, Stu99,
Stu100)
#ScouterID & Team Information
IssId <- read.csv('IssId.csv')
TeamData <- read.csv("TeamData.csv")
#Data Collection Interface
Dci <- data.frame(Serial=1:nrow(RawData))
#Functions
AsciiToChar <- function(col) {
output <- c()
for (i in 1:nrow(Dci)) {
output <- append(output,intToUtf8(RawData[i,col]+64))
}
output[is.na(output)] <- ""
return(output)
}
NumArray <- function(firstCol, numCol) {
output <- rep(0, nrow(Dci))
for (i in firstCol:(firstCol + numCol -1)) {
output <- output + ifelse(!is.na(RawData[[i]]),RawData[[i]]+5*(i-firstCol)-1,0)
}
return(output)
}
CargoAccuracy <- function(scored, missed) {
ifelse(scored + missed == 0, rep(NA, nrow(Dci)), scored/(scored+missed))
}
Point <- function(item, point) {
ifelse(is.na(item), rep(0,nrow(Dci)), item*point)
}
Bubble <- function(col, index) {
ifelse(grepl(index, RawData[[col]]), 1, 0)
}
ClimbAccuracy <- function(attempted, latched, scored) {
ifelse(attempted == 0, rep(NA, nrow(Dci)), (latched + scored)/attempted)
}
#Backups
AutoNum <- function(col1, col2) {
output <- ifelse(!is.na(RawData[[col1]]),RawData[[col1]]-1,
ifelse(!is.na(RawData[[col2]]),RawData[[col2]]+4, NA))
}
TeleNum <- function(col1, col2, col3, col4) {
output <- ifelse(!is.na(RawData[[col1]]),RawData[[col1]]-1,
ifelse(!is.na(RawData[[col2]]),RawData[[col2]]+4,
ifelse(!is.na(RawData[[col3]]),RawData[[col3]]+9,
ifelse(!is.na(RawData[[col4]]),RawData[[col4]]+14, NA))))
}
TestSep <- function(firstCol, numCol) {
for(i in firstCol:(firstCol + numCol -1)) {
print(RawData[[i]])
}
}
#IF-Event
Dci$'IF-Event' <- Bubble(1,1) + Bubble(2,1)*2 + Bubble(3,1)*3
#IF-MatchNumber
Dci$'IF-MatchNumber' <- ifelse(grepl("5", RawData[[1]]),100,0)+
ifelse(!is.na(RawData[[26]]),RawData[[26]]-1,RawData[[51]]+4)*10+
ifelse(!is.na(RawData[[27]]),RawData[[27]]-1,RawData[[52]]+4)
#IF-Alliance
Dci$'IF-Alliance' <- paste(ifelse(grepl("1", RawData[[2]]), "R",
ifelse(grepl("2", RawData[[2]]), "B", "")),
ifelse(grepl("3", RawData[[2]]), "1",
ifelse(grepl("4", RawData[[2]]), "2",
ifelse(grepl("5", RawData[[2]]), "3", ""))),
sep = "")
#IF-ScheduleID
Dci$'IF-ScheduleID' <- Dci$'IF-MatchNumber'*100 +
ifelse(grepl("13", RawData[[2]]), 1,
ifelse(grepl("14", RawData[[2]]), 2,
ifelse(grepl("15", RawData[[2]]), 3,
ifelse(grepl("23", RawData[[2]]), 4,
ifelse(grepl("24", RawData[[2]]), 5,
ifelse(grepl("25", RawData[[2]]), 6, 0))))))
#IF-TeamNumber
Dci <- left_join(Dci, MatchScheduleId, by='IF-ScheduleID')
View(TeamData)
#IF-TeamName
TeamData <- select(TeamData[[6]],[[12]])
#IF-TeamName
TeamData <- select(TeamData[[6]],TeamData[[12]])
#IF-TeamName
TeamData <- select(TeamData, key, team_number, nickname)
TeamData <- select(TeamData, key, nickname)
names(TeamData[1]) <- "IF-TeamNumber"
names(TeamData[2]) <- "IF-Name"
#IF-TeamName
TeamData <- select(TeamData, key, nickname)
names(TeamData[1]) <- "IF-TeamNumber"
names(TeamData[2]) <- "IF-Name"
left_join(Dci, TeamData)
TeamData <- select(TeamData, key, nickname)
names(TeamData)[1] <- "IF-TeamNumber"
names(TeamData)[2] <- "IF-Name"
left_join(Dci, TeamData)
TeamData <- select(TeamData, key, nickname)
names(TeamData)[1] <- "IF-TeamNumber"
names(TeamData)[2] <- "IF-TeamName"
TeamData$`IF-TeamName` <- paste(TeamData$`IF-TeamNumber`,"-", TeamData$`IF-TeamName`)
left_join(Dci, TeamData, by='IF-TeamNumber')
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
left_join(Dci, TeamData, by='IF-TeamNumber')
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
#Tele-HighMissed#
Dci$'Tele-HighAccuracy' <- CargoAccuracy(Dci$'Tele-HighScored#',Dci$'Tele-HighMissed#')
#Tele-HighMissed#
Dci$'Tele-HighAccuracy' <- CargoAccuracy(Dci$'Tele-HighScored#',Dci$'Tele-HighMissed#')
#Tele-HighPoint
Dci$'Tele-HighPoint' <- Point(Dci$'Tele-HighScored#', 2)
#Tele-TotalCargo#
Dci$'Tele-TotalCargo#' <- Dci$'Tele-LowScored#' + Dci$'Tele-HighScored#'
#Tele-HighAccuracy
Dci$'Tele-HighAccuracy' <- CargoAccuracy(Dci$'Tele-HighScored#',Dci$'Tele-HighMissed#')
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
#Tele-HighAccuracy
Dci$'Tele-HighAccuracy' <- CargoAccuracy(Dci$'Tele-HighScored#',Dci$'Tele-HighMissed#')
#Tele-HighMissed#
Dci$'Tele-HighMissed#' <- NumArray(88,4)
#Tele-HighAccuracy
Dci$'Tele-HighAccuracy' <- CargoAccuracy(Dci$'Tele-HighScored#',Dci$'Tele-HighMissed#')
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
source('~/Desktop/ISS 2022/2022_DCI/2022_DCI.R', echo=TRUE)
